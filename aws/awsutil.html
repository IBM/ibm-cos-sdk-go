<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Package: awsutil
  
    &mdash; IBM COS SDK for Go
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" />

  <link rel="stylesheet" href="../css/highlight.github.css" type="text/css" />

<script type="text/javascript">
  pathId = "aws/awsutil";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../package_list.html"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (a)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../aws.html" title="aws (package)">aws</a></span></span>
     &raquo; 
    <span class="title">awsutil</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="package_list_link"
        href="../package_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <iframe id="search_frame"></iframe>

      <div id="content">
        <!--REGION_DISCLAIMER_DO_NOT_REMOVE-->
        <h1>Package: awsutil
  
  
  
</h1>
<div class="package signature">
import "../ibm-cos-sdk-go/aws/awsutil"
</div>

  

  









  
    <h2>
      Function  Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        
<li class="public ">
  <span class="summary_signature"><span class='object_link'><a href="#Copy-class_method" title="awsutil.Copy() (method)">func <strong>Copy</strong>(dst, src interface{}) </a></span></span>
  
  
  
  
  
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Copy deeply copies a src structure to dst.</p>
</div></span>
  
</li>


      
        
<li class="public ">
  <span class="summary_signature"><span class='object_link'><a href="#CopyOf-class_method" title="awsutil.CopyOf() (method)">func <strong>CopyOf</strong>(src interface{}) (dst interface{}) </a></span></span>
  
  
  
  
  
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>CopyOf returns a copy of src while also allocating the memory for dst.</p>
</div></span>
  
</li>


      
        
<li class="public ">
  <span class="summary_signature"><span class='object_link'><a href="#DeepEqual-class_method" title="awsutil.DeepEqual() (method)">func <strong>DeepEqual</strong>(a, b interface{}) bool </a></span></span>
  
  
  
  
  
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>DeepEqual returns if the two values are deeply equal like reflect.DeepEqual.</p>
</div></span>
  
</li>


      
        
<li class="public ">
  <span class="summary_signature"><span class='object_link'><a href="#Prettify-class_method" title="awsutil.Prettify() (method)">func <strong>Prettify</strong>(i interface{}) string </a></span></span>
  
  
  
  
  
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Prettify returns the string representation of a value.</p>
</div></span>
  
</li>


      
        
<li class="public ">
  <span class="summary_signature"><span class='object_link'><a href="#SetValueAtPath-class_method" title="awsutil.SetValueAtPath() (method)">func <strong>SetValueAtPath</strong>(i interface{}, path string, v interface{}) </a></span></span>
  
  
  
  
  
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>SetValueAtPath sets a value at the case insensitive lexical path inside of a structure.</p>
</div></span>
  
</li>


      
        
<li class="public ">
  <span class="summary_signature"><span class='object_link'><a href="#StringValue-class_method" title="awsutil.StringValue() (method)">func <strong>StringValue</strong>(i interface{}) string </a></span></span>
  
  
  
  
  
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>StringValue returns the string representation of a value.</p>
</div></span>
  
</li>


      
        
<li class="public ">
  <span class="summary_signature"><span class='object_link'><a href="#ValuesAtPath-class_method" title="awsutil.ValuesAtPath() (method)">func <strong>ValuesAtPath</strong>(i interface{}, path string) ([]interface{}, error) </a></span></span>
  
  
  
  
  
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>ValuesAtPath returns a list of values at the case insensitive lexical path inside of a structure.</p>
</div></span>
  
</li>


      
    </ul>
  





  <div id="Function_method_details" class="method_details_list">
    <h2>Function Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="Copy-class_method">
  
    func <strong><span class='object_link'><a href="#Copy-class_method" title="awsutil.Copy() (method)">Copy</a></span></strong>(dst, src interface{}) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Copy deeply copies a src structure to dst. Useful for copying request and response structures.</p>

<p>Can copy between structs of different type, but will only copy fields which are assignable, and exist in both structs. Fields which are not assignable, or do not exist in both structs are ignored.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><div class="hljs"><span class="hljs-keyword">type</span> Foo <span class="hljs-keyword">struct</span> {
	A <span class="hljs-constant">int</span>
	B []*<span class="hljs-constant">string</span>
}

<span class="hljs-comment">// Create the initial value</span>
str1 := <span class="hljs-string">"hello"</span>
str2 := <span class="hljs-string">"bye bye"</span>
f1 := &Foo{A: 1, B: []*<span class="hljs-constant">string</span>{&str1, &str2}}

<span class="hljs-comment">// Do the copy</span>
<span class="hljs-keyword">var</span> f2 Foo
awsutil.Copy(&f2, f1)

<span class="hljs-comment">// Print the result</span>
fmt.Println(awsutil.Prettify(f2))
</div></code></pre>
    
  </div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


14
15
16
17
18
19
20
21</pre>
    </td>
    <td>
      <pre class="code"><span class="info file">// File 'aws/awsutil/copy.go', line 14</span>

<div class="hljs"><span class="hljs-keyword">func</span> Copy(dst, src <span class="hljs-keyword">interface</span>{}) {
	dstval := reflect.ValueOf(dst)
	<span class="hljs-keyword">if</span> !dstval.IsValid() {
		panic(<span class="hljs-string">"Copy dst cannot be nil"</span>)
	}

	rcopy(dstval, reflect.ValueOf(src), <span class="hljs-constant">true</span>)
}</div></pre>
    </td>
  </tr>
</table>

</div>
    
      <div class="method_details ">
  <h3 class="signature " id="CopyOf-class_method">
  
    func <strong><span class='object_link'><a href="#CopyOf-class_method" title="awsutil.CopyOf() (method)">CopyOf</a></span></strong>(src interface{}) (dst interface{}) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>CopyOf returns a copy of src while also allocating the memory for dst. src must be a pointer type or this operation will fail.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><div class="hljs"><span class="hljs-keyword">type</span> Foo <span class="hljs-keyword">struct</span> {
	A <span class="hljs-constant">int</span>
	B []*<span class="hljs-constant">string</span>
}

<span class="hljs-comment">// Create the initial value</span>
str1 := <span class="hljs-string">"hello"</span>
str2 := <span class="hljs-string">"bye bye"</span>
f1 := &Foo{A: 1, B: []*<span class="hljs-constant">string</span>{&str1, &str2}}

<span class="hljs-comment">// Do the copy</span>
v := awsutil.CopyOf(f1)
<span class="hljs-keyword">var</span> f2 *Foo = v.(*Foo)

<span class="hljs-comment">// Print the result</span>
fmt.Println(awsutil.Prettify(f2))
</div></code></pre>
    
  </div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


25
26
27
28
29
30</pre>
    </td>
    <td>
      <pre class="code"><span class="info file">// File 'aws/awsutil/copy.go', line 25</span>

<div class="hljs"><span class="hljs-keyword">func</span> CopyOf(src <span class="hljs-keyword">interface</span>{}) (dst <span class="hljs-keyword">interface</span>{}) {
	dsti := reflect.New(reflect.TypeOf(src).Elem())
	dst = dsti.Interface()
	rcopy(dsti, reflect.ValueOf(src), <span class="hljs-constant">true</span>)
	<span class="hljs-keyword">return</span>
}</div></pre>
    </td>
  </tr>
</table>

</div>
    
      <div class="method_details ">
  <h3 class="signature " id="DeepEqual-class_method">
  
    func <strong><span class='object_link'><a href="#DeepEqual-class_method" title="awsutil.DeepEqual() (method)">DeepEqual</a></span></strong>(a, b interface{}) bool 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>DeepEqual returns if the two values are deeply equal like reflect.DeepEqual. In addition to this, this method will also dereference the input values if possible so the DeepEqual performed will not fail if one parameter is a pointer and the other is not.</p>

<p>DeepEqual will not perform indirection of nested values of the input parameters.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


12
13
14
15
16
17
18
19
20
21
22
23
24
25
26</pre>
    </td>
    <td>
      <pre class="code"><span class="info file">// File 'aws/awsutil/equal.go', line 12</span>

<div class="hljs"><span class="hljs-keyword">func</span> DeepEqual(a, b <span class="hljs-keyword">interface</span>{}) <span class="hljs-constant">bool</span> {
	ra := reflect.Indirect(reflect.ValueOf(a))
	rb := reflect.Indirect(reflect.ValueOf(b))

	<span class="hljs-keyword">if</span> raValid, rbValid := ra.IsValid(), rb.IsValid(); !raValid && !rbValid {
		<span class="hljs-comment">// If the elements are both nil, and of the same type they are equal</span>
		<span class="hljs-comment">// If they are of different types they are not equal</span>
		<span class="hljs-keyword">return</span> reflect.TypeOf(a) == reflect.TypeOf(b)
	} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> raValid != rbValid {
		<span class="hljs-comment">// Both values must be valid to be equal</span>
		<span class="hljs-keyword">return</span> <span class="hljs-constant">false</span>
	}

	<span class="hljs-keyword">return</span> reflect.DeepEqual(ra.Interface(), rb.Interface())
}</div></pre>
    </td>
  </tr>
</table>

</div>
    
      <div class="method_details ">
  <h3 class="signature " id="Prettify-class_method">
  
    func <strong><span class='object_link'><a href="#Prettify-class_method" title="awsutil.Prettify() (method)">Prettify</a></span></strong>(i interface{}) string 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Prettify returns the string representation of a value.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


11
12
13
14
15</pre>
    </td>
    <td>
      <pre class="code"><span class="info file">// File 'aws/awsutil/prettify.go', line 11</span>

<div class="hljs"><span class="hljs-keyword">func</span> Prettify(i <span class="hljs-keyword">interface</span>{}) <span class="hljs-constant">string</span> {
	<span class="hljs-keyword">var</span> buf bytes.Buffer
	prettify(reflect.ValueOf(i), 0, &buf)
	<span class="hljs-keyword">return</span> buf.String()
}</div></pre>
    </td>
  </tr>
</table>

</div>
    
      <div class="method_details ">
  <h3 class="signature " id="SetValueAtPath-class_method">
  
    func <strong><span class='object_link'><a href="#SetValueAtPath-class_method" title="awsutil.SetValueAtPath() (method)">SetValueAtPath</a></span></strong>(i interface{}, path string, v interface{}) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>SetValueAtPath sets a value at the case insensitive lexical path inside of a structure.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


186
187
188
189
190
191
192
193
194</pre>
    </td>
    <td>
      <pre class="code"><span class="info file">// File 'aws/awsutil/path_value.go', line 186</span>

<div class="hljs"><span class="hljs-keyword">func</span> SetValueAtPath(i <span class="hljs-keyword">interface</span>{}, path <span class="hljs-constant">string</span>, v <span class="hljs-keyword">interface</span>{}) {
	rvals := rValuesAtPath(i, path, <span class="hljs-constant">true</span>, <span class="hljs-constant">false</span>, v == <span class="hljs-constant">nil</span>)
	<span class="hljs-keyword">for</span> _, rval := <span class="hljs-keyword">range</span> rvals {
		<span class="hljs-keyword">if</span> rval.Kind() == reflect.Ptr && rval.IsNil() {
			<span class="hljs-keyword">continue</span>
		}
		setValue(rval, v)
	}
}</div></pre>
    </td>
  </tr>
</table>

</div>
    
      <div class="method_details ">
  <h3 class="signature " id="StringValue-class_method">
  
    func <strong><span class='object_link'><a href="#StringValue-class_method" title="awsutil.StringValue() (method)">StringValue</a></span></strong>(i interface{}) string 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>StringValue returns the string representation of a value.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


10
11
12
13
14</pre>
    </td>
    <td>
      <pre class="code"><span class="info file">// File 'aws/awsutil/string_value.go', line 10</span>

<div class="hljs"><span class="hljs-keyword">func</span> StringValue(i <span class="hljs-keyword">interface</span>{}) <span class="hljs-constant">string</span> {
	<span class="hljs-keyword">var</span> buf bytes.Buffer
	stringValue(reflect.ValueOf(i), 0, &buf)
	<span class="hljs-keyword">return</span> buf.String()
}</div></pre>
    </td>
  </tr>
</table>

</div>
    
      <div class="method_details ">
  <h3 class="signature " id="ValuesAtPath-class_method">
  
    func <strong><span class='object_link'><a href="#ValuesAtPath-class_method" title="awsutil.ValuesAtPath() (method)">ValuesAtPath</a></span></strong>(i interface{}, path string) ([]interface{}, error) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>ValuesAtPath returns a list of values at the case insensitive lexical path inside of a structure.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182</pre>
    </td>
    <td>
      <pre class="code"><span class="info file">// File 'aws/awsutil/path_value.go', line 157</span>

<div class="hljs"><span class="hljs-keyword">func</span> ValuesAtPath(i <span class="hljs-keyword">interface</span>{}, path <span class="hljs-constant">string</span>) ([]<span class="hljs-keyword">interface</span>{}, <span class="hljs-constant">error</span>) {
	result, err := jmespath.Search(path, i)
	<span class="hljs-keyword">if</span> err != <span class="hljs-constant">nil</span> {
		<span class="hljs-keyword">return</span> <span class="hljs-constant">nil</span>, err
	}

	v := reflect.ValueOf(result)
	<span class="hljs-keyword">if</span> !v.IsValid() || (v.Kind() == reflect.Ptr && v.IsNil()) {
		<span class="hljs-keyword">return</span> <span class="hljs-constant">nil</span>, <span class="hljs-constant">nil</span>
	}
	<span class="hljs-keyword">if</span> s, ok := result.([]<span class="hljs-keyword">interface</span>{}); ok {
		<span class="hljs-keyword">return</span> s, err
	}
	<span class="hljs-keyword">if</span> v.Kind() == reflect.Map && v.Len() == 0 {
		<span class="hljs-keyword">return</span> <span class="hljs-constant">nil</span>, <span class="hljs-constant">nil</span>
	}
	<span class="hljs-keyword">if</span> v.Kind() == reflect.Slice {
		out := make([]<span class="hljs-keyword">interface</span>{}, v.Len())
		<span class="hljs-keyword">for</span> i := 0; i < v.Len(); i++ {
			out[i] = v.Index(i).Interface()
		}
		<span class="hljs-keyword">return</span> out, <span class="hljs-constant">nil</span>
	}

	<span class="hljs-keyword">return</span> []<span class="hljs-keyword">interface</span>{}{result}, <span class="hljs-constant">nil</span>
}</div></pre>
    </td>
  </tr>
</table>

</div>
    
  </div>


      </div>

      <div id="footer">
  Generated on Thu Jun  9 14:07:01 2022 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.28 (ruby-2.7.0).
</div>

<!-- BEGIN-SECTION -->
<script type="text/javascript" src="https://media.amazonwebservices.com/amznUrchin.js"></script>
<!-- SiteCatalyst code version: H.25.2. Copyright 1996-2012 Adobe, Inc. All Rights Reserved.
More info available at http://www.omniture.com -->
<script language="JavaScript" type="text/javascript" src="https://media.amazonwebservices.com/js/sitecatalyst/s_code.min.js">
</script>
<script language="JavaScript" type="text/javascript">
  <!--
  s.prop66='AWS SDK for Go';
  s.eVar66='D=c66';
  s.prop65='API Reference';
  s.eVar65='D=c65';
  var s_code=s.t();if(s_code)document.write(s_code)
  //-->
</script>
<script language="JavaScript" type="text/javascript">
  <!--if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
  //-->
</script>
<noscript>
  <img src="http://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt="">
</noscript>
<!--/DO NOT REMOVE/-->
<!-- End SiteCatalyst code version: H.25.2. -->
<!-- END-SECTION -->

    </div>
  </body>
</html>
