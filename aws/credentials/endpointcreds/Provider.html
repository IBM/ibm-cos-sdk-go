<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Struct: endpointcreds.Provider
  
    &mdash; IBM COS SDK for Go
  
</title>

  <link rel="stylesheet" href="../../../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../../../css/common.css" type="text/css" />

  <link rel="stylesheet" href="../../../css/highlight.github.css" type="text/css" />

<script type="text/javascript">
  pathId = "aws/credentials/endpointcreds.Provider";
  relpath = '../../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../../package_list.html"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../../_index.html">Index (P)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../../aws.html" title="aws (package)">aws</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../../credentials.html" title="credentials (package)">credentials</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../endpointcreds.html" title="endpointcreds (package)">endpointcreds</a></span></span>
     &raquo; 
    <span class="title">Provider</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="package_list_link"
        href="../../../package_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <iframe id="search_frame"></iframe>

      <div id="content">
        <!--REGION_DISCLAIMER_DO_NOT_REMOVE-->
        <h1>Struct: endpointcreds.Provider
  
  
  
</h1>
<div class="package signature">
import "../ibm-cos-sdk-go/aws/credentials/endpointcreds"
</div>
<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>Provider satisfies the credentials.Provider interface, and is a client to
retrieve credentials from an arbitrary endpoint.</p>


  </div>
</div>
<div class="tags">
  

</div>

  <h3 class="inherited">Implemented Interfaces</h3>
  <p class="inherited"><span class='object_link'><a href="../../../service/s3/s3crypto/Cipher.html" title="s3crypto.Cipher (interface)">s3crypto.Cipher</a></span>, <span class='object_link'><a href="../Provider.html" title="credentials.Provider (interface)">credentials.Provider</a></span>, <span class='object_link'><a href="../../../service/s3/s3manager/ReadSeekerWriteTo.html" title="s3manager.ReadSeekerWriteTo (interface)">s3manager.ReadSeekerWriteTo</a></span>, <span class='object_link'><a href="../../../service/s3/s3manager/WriterReadFrom.html" title="s3manager.WriterReadFrom (interface)">s3manager.WriterReadFrom</a></span></p>


  

  







  <h2>
    Structure Field Summary
    <small><a href="#" class="summary_toggle">collapse</a></small>
  </h2>

  <ul class="summary">
    
      
<li class="public ">
  <span class="summary_signature"><span class='object_link'><a href="#AuthorizationToken-field" title="endpointcreds.Provider.AuthorizationToken (field)"><strong>AuthorizationToken</strong> string</a></span></span>
  
  
  
  
  
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Optional authorization token value if set will be used as the value of the
Authorization header of the endpoint credential request.</p>
</div></span>
  
</li>


    
      
<li class="public ">
  <span class="summary_signature"><span class='object_link'><a href="#Client-field" title="endpointcreds.Provider.Client (field)"><strong>Client</strong> *client.Client</a></span></span>
  
  
  
  
  
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Requires a AWS Client to make HTTP requests to the endpoint with.</p>
</div></span>
  
</li>


    
      
<li class="public ">
  <span class="summary_signature"><span class='object_link'><a href="#ExpiryWindow-field" title="endpointcreds.Provider.ExpiryWindow (field)"><strong>ExpiryWindow</strong> time.Duration</a></span></span>
  
  
  
  
  
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>ExpiryWindow will allow the credentials to trigger refreshing prior to the
credentials actually expiring.</p>
</div></span>
  
</li>


    
  </ul>


  
  
  
  

  
    <h2>
      Method  Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        
<li class="public ">
  <span class="summary_signature"><span class='object_link'><a href="#IsExpired-instance_method" title="endpointcreds.Provider.IsExpired() (method)">func (p *Provider) <strong>IsExpired</strong>() bool </a></span></span>
  
  
  
  
  
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>IsExpired returns true if the credentials retrieved are expired, or not yet
retrieved.</p>
</div></span>
  
</li>


      
        
<li class="public ">
  <span class="summary_signature"><span class='object_link'><a href="#Retrieve-instance_method" title="endpointcreds.Provider.Retrieve() (method)">func (p *Provider) <strong>Retrieve</strong>() (credentials.Value, error) </a></span></span>
  
  
  
  
  
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Retrieve will attempt to request the credentials from the endpoint the
Provider was configured for.</p>
</div></span>
  
</li>


      
    </ul>
  


  
  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../Expiry.html" title="credentials.Expiry (struct)">credentials.Expiry</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../Expiry.html#ExpiresAt-instance_method" title="credentials.Expiry.ExpiresAt() (method)">credentials.Expiry.ExpiresAt()</a></span>, <span class='object_link'><a href="../Expiry.html#SetExpiration-instance_method" title="credentials.Expiry.SetExpiration() (method)">credentials.Expiry.SetExpiration()</a></span></p>



  <div id="type_details" class="method_details_list">
    <h2>Structure Field Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="AuthorizationToken-field">
  <strong>AuthorizationToken</strong> string 
  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Optional authorization token value if set will be used as the value of the
Authorization header of the endpoint credential request.</p>


  </div>
</div>
<div class="tags">
  

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="Client-field">
  <strong>Client</strong> *<span class='object_link'><a href="../../client/Client.html" title="client.Client (struct)">client.Client</a></span> 
  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Requires a AWS Client to make HTTP requests to the endpoint with. the
Endpoint the request will be made to is provided by the aws.Config&#39;s
Endpoint value.</p>


  </div>
</div>
<div class="tags">
  

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="ExpiryWindow-field">
  <strong>ExpiryWindow</strong> time.Duration 
  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>ExpiryWindow will allow the credentials to trigger refreshing prior to the
credentials actually expiring. This is beneficial so race conditions with
expiring credentials do not cause request to fail unexpectedly due to
ExpiredTokenException exceptions.</p>

<p>So a ExpiryWindow of 10s would cause calls to IsExpired() to return true 10
seconds before the credentials are actually expired.</p>

<p>If ExpiryWindow is 0 or less it will be ignored.</p>


  </div>
</div>
<div class="tags">
  

</div>
</div>
    
  </div>


  <div id="Method_method_details" class="method_details_list">
    <h2>Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="IsExpired-instance_method">
  
    func (p *<span class='object_link'><a href="" title="endpointcreds.Provider (struct)">Provider</a></span>) <strong><span class='object_link'><a href="#IsExpired-instance_method" title="endpointcreds.Provider.IsExpired() (method)">IsExpired</a></span></strong>() bool 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>IsExpired returns true if the credentials retrieved are expired, or not yet
retrieved.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


108
109
110
111
112
113</pre>
    </td>
    <td>
      <pre class="code"><span class="info file">// File 'aws/credentials/endpointcreds/provider.go', line 108</span>

<div class="hljs"><span class="hljs-keyword">func</span> (p *Provider) IsExpired() <span class="hljs-constant">bool</span> {
	<span class="hljs-keyword">if</span> p.staticCreds {
		<span class="hljs-keyword">return</span> <span class="hljs-constant">false</span>
	}
	<span class="hljs-keyword">return</span> p.Expiry.IsExpired()
}</div></pre>
    </td>
  </tr>
</table>

</div>
    
      <div class="method_details ">
  <h3 class="signature " id="Retrieve-instance_method">
  
    func (p *<span class='object_link'><a href="" title="endpointcreds.Provider (struct)">Provider</a></span>) <strong><span class='object_link'><a href="#Retrieve-instance_method" title="endpointcreds.Provider.Retrieve() (method)">Retrieve</a></span></strong>() (<span class='object_link'><a href="../Value.html" title="credentials.Value (struct)">credentials.Value</a></span>, error) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Retrieve will attempt to request the credentials from the endpoint the
Provider was configured for. And error will be returned if the retrieval
fails.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136</pre>
    </td>
    <td>
      <pre class="code"><span class="info file">// File 'aws/credentials/endpointcreds/provider.go', line 117</span>

<div class="hljs"><span class="hljs-keyword">func</span> (p *Provider) Retrieve() (credentials.Value, <span class="hljs-constant">error</span>) {
	resp, err := p.getCredentials()
	<span class="hljs-keyword">if</span> err != <span class="hljs-constant">nil</span> {
		<span class="hljs-keyword">return</span> credentials.Value{ProviderName: ProviderName},
			awserr.New(<span class="hljs-string">"CredentialsEndpointError"</span>, <span class="hljs-string">"failed to load credentials"</span>, err)
	}

	<span class="hljs-keyword">if</span> resp.Expiration != <span class="hljs-constant">nil</span> {
		p.SetExpiration(*resp.Expiration, p.ExpiryWindow)
	} <span class="hljs-keyword">else</span> {
		p.staticCreds = <span class="hljs-constant">true</span>
	}

	<span class="hljs-keyword">return</span> credentials.Value{
		AccessKeyID:     resp.AccessKeyID,
		SecretAccessKey: resp.SecretAccessKey,
		SessionToken:    resp.Token,
		ProviderName:    ProviderName,
	}, <span class="hljs-constant">nil</span>
}</div></pre>
    </td>
  </tr>
</table>

</div>
    
  </div>


      </div>

      <div id="footer">
  Generated on Thu Mar 11 20:09:37 2021 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.26 (ruby-2.3.1).
</div>

<!-- BEGIN-SECTION -->
<script type="text/javascript" src="https://media.amazonwebservices.com/amznUrchin.js"></script>
<!-- SiteCatalyst code version: H.25.2. Copyright 1996-2012 Adobe, Inc. All Rights Reserved.
More info available at http://www.omniture.com -->
<script language="JavaScript" type="text/javascript" src="https://media.amazonwebservices.com/js/sitecatalyst/s_code.min.js">
</script>
<script language="JavaScript" type="text/javascript">
  <!--
  s.prop66='AWS SDK for Go';
  s.eVar66='D=c66';
  s.prop65='API Reference';
  s.eVar65='D=c65';
  var s_code=s.t();if(s_code)document.write(s_code)
  //-->
</script>
<script language="JavaScript" type="text/javascript">
  <!--if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
  //-->
</script>
<noscript>
  <img src="http://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt="">
</noscript>
<!--/DO NOT REMOVE/-->
<!-- End SiteCatalyst code version: H.25.2. -->
<!-- END-SECTION -->

    </div>
  </body>
</html>
