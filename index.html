<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  File: README
  
    &mdash; IBM COS SDK for Go
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" />

  <link rel="stylesheet" href="css/common.css" type="text/css" />

  <link rel="stylesheet" href="css/highlight.github.css" type="text/css" />

<script type="text/javascript">
  pathId = "README";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="package_list.html"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index</a> &raquo; 
    <span class="title">File: README</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="package_list_link"
        href="package_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <iframe id="search_frame"></iframe>

      <div id="content">
        <!--REGION_DISCLAIMER_DO_NOT_REMOVE-->
        <div id='filecontents'>
<h1 id="label-IBM+Cloud+Object+Storage+-+Go+SDK">IBM Cloud Object Storage - Go SDK</h1>

<p>This package allows Go developers to write software that interacts with <a
href="https://www.ibm.com/cloud/object-storage">IBM Cloud Object
Storage</a>. It is a fork of the <a
href="https://github.com/aws/aws-sdk-go">AWS SDK for Go</a> library and can
stand as a drop-in replacement if the application needs to connect to
object storage using an S3-like API and does not make use of other AWS
services.</p>

<h2 id="label-Documentation">Documentation</h2>
<ul><li>
<p><a
href="https://cloud.ibm.com/docs/services/cloud-object-storage?topic=cloud-object-storage-getting-started">Core
documentation for IBM COS</a></p>
</li><li>
<p><a href="https://ibm.github.io/ibm-cos-sdk-go">Go API reference
documentation</a></p>
</li><li>
<p><a
href="https://cloud.ibm.com/docs/services/cloud-object-storage?topic=cloud-object-storage-compatibility-api">REST
API reference documentation</a></p>
</li></ul>

<p>For release notes, see the <a href="CHANGELOG.rst">CHANGELOG</a>.</p>
<ul><li>
<p><a href="#getting-the-sdk">Getting the SDK</a></p>
</li><li>
<p><a href="#example-code">Example code</a></p>
</li><li>
<p><a href="#getting-help">Getting help</a></p>
</li></ul>

<h2 id="label-Quick+start">Quick start</h2>

<p>You&#39;ll need:  * An instance of COS.  * An API key from <a
href="https://cloud.ibm.com/docs/iam?topic=iam-userroles#userroles">IBM
Cloud Identity and Access Management</a> with at least <code>Writer</code>
permissions.  * The ID of the instance of COS that you are working with.  *
Token acquisition endpoint  * Service endpoint</p>

<p>These values can be found in the IBM Cloud Console by <a
href="https://cloud.ibm.com/docs/services/cloud-object-storage/iam?topic=cloud-object-storage-service-credentials#service-credentials">generating
a ‘service credential’</a>.</p>

<h2 id="label-Archive+Tier+Support">Archive Tier Support</h2>

<p>You can automatically archive objects after a specified length of time or
after a specified date. Once archived, a temporary copy of an object can be
restored for access as needed. Restore time may take up to 15 hours.</p>

<p>An archive policy is set at the bucket level by calling the
<code>PutBucketLifecycleConfiguration</code> method on a client instance. A
newly added or modified archive policy applies to new objects uploaded and
does not affect existing objects. For more detail, see the <a
href="https://cloud.ibm.com/docs/services/cloud-object-storage?topic=cloud-object-storage-go">documentation</a>.</p>

<h2 id="label-Immutable+Object+Storage">Immutable Object Storage</h2>

<p>Users can configure buckets with an Immutable Object Storage policy to
prevent objects from being modified or deleted for a defined period of
time. The retention period can be specified on a per-object basis, or
objects can inherit a default retention period set on the bucket. It is
also possible to set open-ended and permanent retention periods. Immutable
Object Storage meets the rules set forth by the SEC governing record
retention, and IBM Cloud administrators are unable to bypass these
restrictions. For more detail, see the <a
href="https://cloud.ibm.com/docs/services/cloud-object-storage?topic=cloud-object-storage-go">IBM
Cloud documentation</a>.</p>

<p>Note: Immutable Object Storage does not support Aspera transfers via the
SDK to upload objects or directories at this stage.</p>

<h2 id="label-Getting+the+SDK">Getting the SDK</h2>

<p>Use go get to retrieve the SDK to add it to your GOPATH workspace, or
project&#39;s Go module dependencies. The SDK requires a minimum version of
Go 1.10.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_go'>go</span> <span class='id identifier rubyid_get'>get</span> <span class='id identifier rubyid_github'>github</span><span class='period'>.</span><span class='id identifier rubyid_com'>com</span><span class='op'>/</span><span class='const'>IBM</span><span class='op'>/</span><span class='id identifier rubyid_ibm'>ibm</span><span class='op'>-</span><span class='id identifier rubyid_cos'>cos</span><span class='op'>-</span><span class='id identifier rubyid_sdk'>sdk</span><span class='op'>-</span><span class='id identifier rubyid_go'>go</span>
</code></pre>

<p>To update the SDK use go get -u to retrieve the latest version of the SDK..</p>

<pre class="code ruby"><code class="ruby">go get -u github.com/IBM/ibm-cos-sdk-go</code></pre>

<h2 id="label-Example+code">Example code</h2>

<p>Create a file <code>main.go</code>, replacing your own values for API key,
instance ID, and bucket name:</p>

<pre class="code ruby"><code class="ruby">package main

import (
	&quot;fmt&quot;

	&quot;github.com/IBM/ibm-cos-sdk-go/aws&quot;
	&quot;github.com/IBM/ibm-cos-sdk-go/aws/credentials/ibmiam&quot;
	&quot;github.com/IBM/ibm-cos-sdk-go/aws/session&quot;
	&quot;github.com/IBM/ibm-cos-sdk-go/service/s3&quot;
)

const (
	apiKey            = &quot;&lt;API_KEY&gt;&quot;
	serviceInstanceID = &quot;&lt;RESOURCE_INSTANCE_ID&gt;&quot;
	authEndpoint      = &quot;https://iam.cloud.ibm.com/identity/token&quot;
	serviceEndpoint   = &quot;https://s3-api.us-geo.objectstorage.softlayer.net&quot;
)

func main() {

	newBucket := &quot;new-bucketee&quot;
	newColdBucket := &quot;new-cold-bucketee&quot;

	conf := aws.NewConfig().
		WithEndpoint(serviceEndpoint).
		WithCredentials(ibmiam.NewStaticCredentials(aws.NewConfig(),
			authEndpoint, apiKey, serviceInstanceID)).
		WithS3ForcePathStyle(true)

	sess := session.Must(session.NewSession())
	client := s3.New(sess, conf)

	input := &amp;s3.CreateBucketInput{
		Bucket: aws.String(newBucket),
	}
	client.CreateBucket(input)

	input2 := &amp;s3.CreateBucketInput{
		Bucket: aws.String(newColdBucket),
		CreateBucketConfiguration: &amp;s3.CreateBucketConfiguration{
			LocationConstraint: aws.String(&quot;us-cold&quot;),
		},
	}
	client.CreateBucket(input2)

	d, _ := client.ListBuckets(&amp;s3.ListBucketsInput{})
	fmt.Println(d)
}</code></pre>

<p>From the command line, run <code>go run main.go</code>. You should see a
list of your buckets.</p>

<h2 id="label-Getting+Help">Getting Help</h2>

<p>Feel free to use GitHub issues for tracking bugs and feature requests, but
for help please use one of the following resources:</p>
<ul><li>
<p>Read a quick start guide in <a
href="https://cloud.ibm.com/docs/services/cloud-object-storage?topic=cloud-object-storage-go">IBM
Cloud Docs</a>.</p>
</li><li>
<p>Ask a question on <a
href="https://stackoverflow.com/questions/tagged/object-storage+ibm">Stack
Overflow</a> and tag it with <code>ibm</code> and
<code>object-storage</code>.</p>
</li><li>
<p>Open a support ticket with <a
href="https://cloud.ibm.com/unifiedsupport/supportcenter/">IBM Cloud
Support</a></p>
</li><li>
<p>If it turns out that you may have found a bug, please <a
href="https://github.com/ibm/ibm-cos-sdk-go/issues/new">open an issue</a>.</p>
</li></ul>

<h2 id="label-License">License</h2>

<p>This SDK is distributed under the <a
href="http://www.apache.org/licenses/LICENSE-2.0">Apache License, Version
2.0</a>, see LICENSE.txt and NOTICE.txt for more information.</p>
</div>
      </div>

      <div id="footer">
  Generated on Fri Sep  6 19:52:44 2019 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.20 (ruby-2.3.1).
</div>

<!-- BEGIN-SECTION -->
<script type="text/javascript" src="https://media.amazonwebservices.com/amznUrchin.js"></script>
<!-- SiteCatalyst code version: H.25.2. Copyright 1996-2012 Adobe, Inc. All Rights Reserved.
More info available at http://www.omniture.com -->
<script language="JavaScript" type="text/javascript" src="https://media.amazonwebservices.com/js/sitecatalyst/s_code.min.js">
</script>
<script language="JavaScript" type="text/javascript">
  <!--
  s.prop66='AWS SDK for Go';
  s.eVar66='D=c66';
  s.prop65='API Reference';
  s.eVar65='D=c65';
  var s_code=s.t();if(s_code)document.write(s_code)
  //-->
</script>
<script language="JavaScript" type="text/javascript">
  <!--if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
  //-->
</script>
<noscript>
  <img src="http://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt="">
</noscript>
<!--/DO NOT REMOVE/-->
<!-- End SiteCatalyst code version: H.25.2. -->
<!-- END-SECTION -->

    </div>
  </body>
</html>
